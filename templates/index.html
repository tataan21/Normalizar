<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Normalizador de Datos</title>

    <!-- Enlace a hoja de estilos externa -->
    <link rel="stylesheet" href="{{ url_for('static', filename='estilos.css') }}">
</head>
<body>

    <!-- T铆tulo principal de la aplicaci贸n web -->
    <h1>Normalizador de Datos</h1>

    <!-- Formulario para subir archivo y seleccionar tipo de normalizaci贸n -->
    <form action="/procesar" method="post" enctype="multipart/form-data">
        <!-- Campo para cargar el archivo -->
        <label for="archivo">Selecciona un archivo (.txt):</label>
        <input type="file" name="archivo" required><br><br>

        <!-- Men煤 desplegable para elegir qu茅 tipo de normalizaci贸n aplicar -->
        <label for="tipo">Tipo de normalizaci贸n:</label>
        <select name="tipo" required>
            <option value="famosos">Fechas de nacimiento de personajes</option>
            <option value="texto">Ciudades</option>
            <option value="lugares">Lugares con georeferencias</option>
        </select><br><br>

        <!-- Bot贸n para enviar el formulario -->
        <input type="submit" value="Procesar">
    </form>

    <!-- Esta secci贸n solo aparece si se ha generado una tabla de resultados -->
    {% if tabla_html %}
        <div class="descarga">
            <!-- Enlace para descargar el archivo Excel generado -->
            <a href="{{ url_for('descargar', nombre=nombre_archivo) }}" target="_blank">
                <button> Descargar Excel</button>
            </a>
        </div>

        <!-- Encabezado para la tabla de resultados -->
        <h2>Resultado Normalizado:</h2>

        <!-- Aqu铆 se inserta din谩micamente la tabla HTML generada por Flask -->
        {{ tabla_html|safe }}
    {% endif %}

</body>
</html>
